<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSRF Safe Route Mapper</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h2>SSRF Route Visualization</h2>

    <!-- Search Bar -->
    <div id="search-container">
        <input type="url" id="url-input" placeholder="Enter URL to scan (e.g. http://example.com)" required>
        <button id="scan-btn">Scan</button>
    </div>

    <div id="container">
        <div id="visualization">
            <svg width="900" height="500"></svg>
        </div>
        <div id="legend-description-container">
            <div id="legend">
                <h4>Legend</h4>
                <div class="legend-item">
                    <div class="legend-color" style="background: blue;"></div> Safe Node
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: yellow;"></div> Medium Risk
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: red;"></div> High Risk
                </div>
            </div>            
            
            <div id="description">
                <h4>Visualization Details</h4>
                <p>Click on a node to see details. Red nodes indicate high-risk SSRF targets.</p>
            </div>
        </div>        
    </div>

    <script src="{{ url_for('static', filename='js/visualization.js') }}"></script>
</body>
</html>
